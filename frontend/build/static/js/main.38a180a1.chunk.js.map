{"version":3,"sources":["components/Footer.js","img/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Auth.js","components/Login.jsx","components/Register.jsx","components/ProtectedRoute.jsx","components/InfoToolTip.jsx","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","currentYear","Date","getFullYear","className","Header","props","currentUrl","location","useLocation","to","src","logo","alt","pathname","localStorage","getItem","onClick","logout","CurrentUserContext","React","createContext","Card","dataUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","name","link","e","onCardDelete","stopPropagation","type","onCardLike","length","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","cards","map","PopupWithForm","isOpen","onClose","imgStatus","title","onSubmit","action","children","value","buttonText","ImagePopup","api","baseUrl","token","this","res","ok","json","Promise","reject","status","fetch","credentials","headers","authorization","then","_getResponse","method","body","JSON","stringify","idCard","like","document","cookie","search","EditProfilePopup","useState","setName","description","setDescription","useEffect","preventDefault","onUpdateUser","htmlFor","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setTitle","setSrc","onUpdateCards","auth","password","email","_baseUrl","Accept","Login","setEmail","setPassword","history","useHistory","handleChange","setter","authorize","data","setItem","setLogin","push","catch","error","console","log","Register","isRegistration","ProtectedRoute","Component","component","loginIn","InfoToolTip","classStatus","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectCard","setSelectCard","currentUser","setCurrentUser","setCards","setLoginIn","isStatusRegister","setIsStatusRegister","isTitleModal","setIsTitleModal","isClassStatus","setIsClassStatus","closeAllPopups","handleSetLogin","handleCheckToken","useCallback","valueOf","checkToken","err","updateDataUser","result","getUserInfo","getInitialCards","closeByEscape","key","addEventListener","removeEventListener","Provider","exact","path","toogleLike","newCard","state","c","deleteCard","filter","register","finally","newDataUser","setUserInfo","addCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.38a180a1.chunk.js","sourcesContent":["function Footer() {\n  const currentYear = new Date().getFullYear()\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© {currentYear} Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer","export default __webpack_public_path__ + \"static/media/logo.1f1e9591.svg\";","import logo from '../img/logo.svg';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction Header(props) {\n  const location = useLocation();\n\n\n\n\n  function navRight(currentUrl) {\n    if (currentUrl.pathname === \"/sign-in\") {\n      return <Link to=\"/sign-up\" className=\"header__sign\">Регистрация</Link>\n    }\n    if (currentUrl.pathname === \"/sign-up\") {\n      return <Link to=\"/sign-in\" className=\"header__sign\">Вход</Link>\n    }\n    if (currentUrl.pathname === \"/\") {\n      return (\n        <div>\n        <Link to=\"\" className=\"header__sign\">{localStorage.getItem('email')}</Link>\n        <Link to=\"/sign-up\" onClick={props.logout()} className=\"header__sign header__sign_exit\">Выйти</Link>\n        </div>\n      )\n    }\n  }\n\n  return (\n    <header className=\"header\">\n      <Link to=\"/\"><img src={logo} alt=\"Логотип сайта\" className=\"header__logo\" /></Link>\n      {navRight(location)}\n    </header>\n  )\n}\n\nexport default Header","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext()\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction Card(props) {\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card, isLiked)\n  }\n\n  function handleDeleteClick(e) {\n    props.onCardDelete(props.card)\n    e.stopPropagation()\n  }\n\n  const dataUser = React.useContext(CurrentUserContext)\n  const isOwn = props.card.owner === dataUser._id;\n  const cardDeleteButtonClassName = (\n    `${isOwn ? 'card__delete' : 'card__delete_hidden'}`\n  );\n  const isLiked = props.card.likes.some(i => i === dataUser._id);\n  const cardLikeButtonClassName = `card__like ${isLiked ? 'card__like_active' : ''}`;\n\n  return (\n    <article className=\"card__item\">\n      <div className=\"card__block-img\" onClick={handleClick}>\n        <img className=\"card__img\" alt={props.card.name} src={props.card.link} />\n        <button onClick={handleDeleteClick} className={cardDeleteButtonClassName}></button>\n      </div>\n      <div className=\"card__signature-block\">\n        <h3 className=\"card__title\">{props.card.name}</h3>\n        <div className=\"card__block-like\">\n          <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName}></button>\n          <p className=\"card__counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n\n}\n\nexport default Card","import React from \"react\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\nimport Card from \"./Card\"\n\nexport default function Main(props) {\n  const dataUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${dataUser.avatar})` }}></div>\n        <div className=\"profile__profile-info\">\n          <div className=\"profile__name-block\">\n            <h1 className=\"profile__name\">{dataUser.name}</h1><button onClick={props.onEditProfile} aria-label=\"Редактировать\" type=\"button\"\n              className=\"profile__edit-button\"></button>\n          </div>\n          <p className=\"profile__description\">{dataUser.about}</p>\n        </div>\n\n        <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"card\">\n\n        {props.cards.map((card) => {\n          return (\n            <Card\n              card={card}\n              onCardDelete={props.onCardDelete}\n              onCardLike={props.onCardLike}\n              onCardClick={props.onCardClick}\n              key={card._id} />\n          )\n        })}\n      </section>\n    </main>\n  )\n}","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__window\">\n        <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\n        {props.imgStatus && <h2>все ок</h2>}\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form onSubmit={props.onSubmit} name={`popup_form-${props.name}`} action=\"#\" className={`popup__form popup__${props.name}`} >\n          <fieldset className=\"popup__fieldset\">\n            {props.children}\n            <input type=\"submit\" className=\"popup__save-button\" value={props.buttonText} />\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_img ${props.card ? 'popup_opened' : ''}`}>\n      <div className=\"popup__window-img\">\n        <img className=\"popup__img\" src={props.card ? props.card.link : \"\"} alt={props.card?.name} />\n        <button type=\"button\" className=\"popup__button-close popup__button-close_img\" onClick={props.onClose}></button>\n        <figcaption className=\"popup__figcaption\">{props.card?.name}</figcaption>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup","class Api {\n  constructor({ baseUrl, token }) {\n    this.baseUrl = baseUrl\n    this.token = token\n  }\n\n  _getResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n      }\n    })\n      .then(this._getResponse);\n  }\n\n  addCard({ name, link }) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      })\n    })\n      .then(this._getResponse);\n  }\n\n  deleteCard(idCard) {\n    return fetch(`${this.baseUrl}/cards/${idCard}`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n    })\n      .then(this._getResponse);\n  }\n\n  getUserInfo(token) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n      }\n    })\n      .then(this._getResponse);\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n      .then(this._getResponse)\n  }\n\n  toogleLike(idCard, like) {\n    return fetch(`${this.baseUrl}/cards/likes/${idCard}`, {\n      method: like ? 'PUT' : 'DELETE',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(this._getResponse)\n  }\n\n  setUserAvatar({ avatar }) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(this._getResponse)\n  }\n}\n\n/* const token = localStorage.getItem('token'); */\n\nconst api = new Api({\n  baseUrl: process.env.NODE_ENV === \"production\"\n  ? \"https://api.flamer.nomoredomains.work\"\n  : \"http://localhost:3000\",\n  token: `${document.cookie.search('jwt').value}`\n})\n\nexport default api","import PopupWithForm from \"./PopupWithForm\"\nimport React from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  const dataUser = React.useContext(CurrentUserContext)\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  React.useEffect(() => {\n    setName(dataUser.name);\n    setDescription(dataUser.about);\n  }, [dataUser, props.isOpen]); \n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      onSubmit={handleSubmit}\n      buttonText={'Сохранить'}>\n        <label htmlFor=\"\" className=\"popup__label\">\n          <input type=\"text\" value={name || ''} onChange={handleChangeName} name=\"name\" id=\"name\" className=\"popup__input\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\"\n            required />\n          <span className=\"popup__form-error name-error\"></span>\n        </label>\n        <label htmlFor=\"\" className=\"popup__label\">\n          <input type=\"text\" value={description || ''} onChange={handleChangeDescription} name=\"description\" id=\"description\" className=\"popup__input\" placeholder=\"О себе\"\n            minLength=\"2\" maxLength=\"200\" required />\n          <span className=\"popup__form-error description-error\"></span>\n        </label>\n    </PopupWithForm>\n  )\n}","import PopupWithForm from \"./PopupWithForm\"\nimport React from 'react';\n\nexport default function EditAvatarPopup(props) {\n  const src = React.useRef()\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: src.current.value,\n    });\n  }\n\n  React.useEffect(() => {\n    src.current.value = ''\n}, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      onSubmit={handleSubmit}\n      buttonText={\"Сохранить\"}>\n      <label htmlFor=\"\" className=\"popup__label\">\n        <input ref={src} type=\"url\" name=\"src\" id=\"urlavatar\" className=\"popup__input popup__input_card\"\n          placeholder=\"Ссылка на аватар\" required />\n        <span className=\"popup__form-error urlavatar-error\"></span>\n      </label>\n    </PopupWithForm>\n  )\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\"\n\nexport default function AddPlacePopup(props) {\n  const [title, setTitle] = React.useState('');\n  const [src, setSrc] = React.useState('');\n\n  function handleChangeTitle(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleChangeSrc(e) {\n    setSrc(e.target.value);\n  }\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateCards({\n      name: title,\n      link: src\n    });\n  }\n\n  React.useEffect(() => {\n    setTitle('')\n    setSrc('')\n   }, [props.isOpen])\n\n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"card\"\n      title=\"Новое место\"\n      onSubmit={handleSubmit}\n      buttonText={'Добавить'}>\n      <label htmlFor=\"\" className=\"popup__label\">\n        <input type=\"text\" value={title} onChange={handleChangeTitle} name=\"title\" id=\"title\" className=\"popup__input popup__input_card\" placeholder=\"Название\"\n          minLength=\"2\" maxLength=\"30\" required />\n        <span className=\"popup__form-error title-error\"></span>\n      </label>\n      <label htmlFor=\"\" className=\"popup__label\">\n        <input type=\"url\" value={src} onChange={handleChangeSrc} name=\"src\" id=\"src\" className=\"popup__input popup__input_card\"\n          placeholder=\"Ссылка на картинку\" required />\n        <span className=\"popup__form-error src-error\"></span>\n      </label>\n    </PopupWithForm>\n  )\n}","class Auth {\n  constructor({baseUrl}) {\n    this.baseUrl = baseUrl\n  }\n\n  _getResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n\n  register({password, email}) {\n    return fetch(`${this.baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ password, email })\n    })\n      .then(this._getResponse);\n  };\n\n  authorize(password, email) {\n    return fetch(`${this.baseUrl}/signin`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ password, email })\n    })\n      .then(this._getResponse)\n  };\n\n  logout() {\n    return fetch(`${this._baseUrl}/logout`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }).then(this._getResponse);\n  }\n\n  checkToken() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      }\n    })\n      .then(this._getResponse)\n  }\n}\n\n const auth = new Auth({\n  baseUrl: process.env.NODE_ENV === \"production\"\n  ? \"https://api.flamer.nomoredomains.work\"\n  : \"http://localhost:3000\",\n})\n\nexport default auth","import './Sign.css'\nimport { useState } from 'react';\nimport auth from '../utils/Auth';\nimport { useHistory } from 'react-router-dom'\n\nexport default function Login(props) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const history = useHistory()\n\n  function handleChange(e, setter) {\n    setter(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    auth.authorize(password, email)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('token', data.token);\n          setPassword('')\n          setEmail('')\n          props.setLogin()\n          history.push('/')\n        }\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  return (\n    <main className=\"main\">\n      <section className=\"sign\">\n        <h2 className=\"sign__title\">Вход</h2>\n        <form onSubmit={handleSubmit} className=\"sign__form\" action=\"\">\n          <input placeholder=\"Email\" value={email} onChange={(e) => handleChange(e, setEmail)} className=\"sign__form-input\" type=\"email\" />\n          <input placeholder=\"Пароль\" value={password} onChange={(e) => handleChange(e, setPassword)} className=\"sign__form-input\" type=\"password\" />\n          <button className=\"sign__button\">Войти</button>\n        </form>\n      </section>\n    </main>\n  )\n}","import './Sign.css'\nimport { Link } from 'react-router-dom'\nimport { useState } from 'react';\n\nexport default function Register(props) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n\n  function handleChange(e, setter) {\n    setter(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.isRegistration({\n      email: email,\n      password: password\n    })\n\n  }\n\n\n  return (\n    <main className=\"main\">\n      <section className=\"sign\">\n        <h2 className=\"sign__title\">Регистрация</h2>\n        <form onSubmit={handleSubmit} className=\"sign__form\">\n          <input placeholder=\"Email\" value={email} onChange={(e) => handleChange(e, setEmail)} className=\"sign__form-input\" type=\"email\" />\n          <input placeholder=\"Пароль\" value={password} onChange={(e) => handleChange(e, setPassword)} className=\"sign__form-input\" type=\"password\" />\n          <button className=\"sign__button\">Зарегистрироваться</button>\n        </form>\n        <Link to=\"/sign-in\" className=\"sign__signin\">Уже зарегестрировались? Войти</Link>\n      </section>\n    </main>\n  )\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loginIn ? <Component {...props} /> : <Redirect to=\"/sign-up\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute; ","import React from 'react';\n\nexport default function InfoToolTip(props) {\n\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__window\">\n        <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\n        <div className=\"popup__info-tool\">\n        <div className={`popup__info-tool_${props.classStatus}`}></div>\n        <h2 className=\"popup__title popup__title_infotool\">{props.title}</h2>\n        </div>\n      </div>\n    </div>\n  )\n}","import React, { useCallback, useState } from 'react';\nimport Footer from './Footer';\nimport Header from './Header';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport auth from '../utils/Auth';\nimport InfoToolTip from './InfoToolTip';\n\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [selectCard, setSelectCard] = useState(null)\n  const [currentUser, setCurrentUser] = useState({})\n  const [cards, setCards] = React.useState([])\n  const [loginIn, setLoginIn] = React.useState(false)\n  const [isStatusRegister, setIsStatusRegister] = useState(false)\n  const [isTitleModal, setIsTitleModal] = useState('')\n  const [isClassStatus, setIsClassStatus] = useState('')\n  const history = useHistory();\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setSelectCard(false)\n    setSelectCard(null)\n  }\n\n  const handleSetLogin = (status) => {\n    setLoginIn(status)\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const handleCardClick = (card) => {\n    setSelectCard(card)\n  }\n\n  const handleCheckToken = useCallback(() => {\n    const jwt = document.cookie.valueOf(\"jwt\");\n    if (jwt) {\n      auth.checkToken()\n        .then((res) => {\n          setLoginIn(true)\n          history.push('/')\n          localStorage.setItem('email', res.email)\n          \n        })\n        .catch(err => console.log(`Ошибка проверка токена: ${err}`))\n    }\n  }, [history])\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((result) => {\n        setCurrentUser(result)\n      })\n      .catch(err => console.log(`Ошибка загрузки данных: ${err}`))\n\n    api.getInitialCards()\n      .then(result => setCards(result))\n      .catch(err => console.log(`Ошибка загрузки данных: ${err}`))\n\n    handleCheckToken()\n  }, [loginIn, handleCheckToken])\n\n  function handleCardLike(card, isLiked) {\n\n    api.toogleLike(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch(err => console.log(`Ошибка установки лайка: ${err}`));\n\n  }\n\n  function handleCardDelete(card) {\n\n    api.deleteCard(card._id)\n      .then((result) => {\n        setCards(cards.filter((c) => c._id !== card._id))\n      })\n      .catch(err => console.log(`Ошибка удаление карточки: ${err}`));\n  }\n\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape)\n    \n    return () => document.removeEventListener('keydown', closeByEscape)\n}, [])\n\n  function updateDataUser(result) {\n    setCurrentUser(result)\n    closeAllPopups()\n  }\n\n  function handleUpdateUser(newDataUser) {\n    api.setUserInfo(newDataUser)\n      .then(result => {\n        updateDataUser(result)\n      })\n      .catch(err => console.log(`Ошибка загрузка данных пользоветял: ${err}`));\n  }\n\n  function handleUpdateAvatar(src) {\n    api.setUserAvatar(src)\n      .then(result => {\n        updateDataUser(result)\n      })\n      .catch(err => console.log(`Ошибка загрузка аватар: ${err}`));\n  }\n\n  function handleUpdateCards(card) {\n    api.addCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards])\n        closeAllPopups()\n      })\n      .catch(err => console.log(`Ошибка добавление карточки: ${err}`));\n\n  }\n\n  function handleSubmitRegister(dataUser) {\n    auth.register(dataUser)\n      .then((res) => {\n        setIsTitleModal('Вы успешно зарегистрировались!')\n        setIsClassStatus('accept-status')\n      })\n      .catch((error) => {\n        setIsTitleModal(error)\n        setIsClassStatus('error-status')\n      })\n      .finally(() => {\n        setIsStatusRegister(true)\n      })\n  }\n\n  function signOut(){\n    auth.logout()\n    .then(() => {\n      history.push('/sign-in');\n      handleSetLogin(false)\n    })\n\n  }\n\n  return (\n\n    <div className=\"root__page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header logout={signOut}/>\n        <Switch>\n          <ProtectedRoute exact path=\"/\"\n            loginIn={loginIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete} />\n          <Route path=\"/sign-up\">\n            <Register\n              isRegistration={handleSubmitRegister}\n            />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login\n              setLogin={handleSetLogin}\n            />\n          </Route>\n        </Switch>\n        <Footer />\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup onUpdateCards={handleUpdateCards} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <InfoToolTip\n          name=\"infotool\"\n          onClose={() => { setIsStatusRegister(false) }}\n          isOpen={isStatusRegister}\n          title={isTitleModal}\n          classStatus={isClassStatus}\n\n        />\n        <PopupWithForm\n          name=\"delete-card\"\n          title=\"Вы уверены?\"\n          buttonText={'Да'}>\n        </PopupWithForm>\n        <ImagePopup card={selectCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </div >\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}