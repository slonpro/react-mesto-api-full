{"version":3,"sources":["components/Footer.js","img/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Header","src","logo","alt","CurrentUserContext","React","createContext","Card","props","dataUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","name","link","e","onCardDelete","stopPropagation","type","onCardLike","length","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","cards","map","PopupWithForm","isOpen","onClose","title","onSubmit","action","noValidate","children","ImagePopup","api","baseUrl","token","this","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_getResponse","method","body","JSON","stringify","idCard","like","EditProfilePopup","useState","setName","description","setDescription","useEffect","preventDefault","onUpdateUser","htmlFor","value","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setSrc","onUpdateCards","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectCard","setSelectCard","currentUser","setCurrentUser","setCards","closeAllPopups","updateDataUser","result","getUserInfo","catch","err","console","log","getInitialCards","Provider","toogleLike","newCard","state","c","deleteCard","filter","newDataUser","setUserInfo","addCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2fc62521.chunk.js","sourcesContent":["function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer","export default __webpack_public_path__ + \"static/media/logo.1f1e9591.svg\";","import logo from '../img/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Логотип сайта\" className=\"header__logo\" />\n    </header>\n  )\n}\n\nexport default Header","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext()\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction Card(props) {\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card, isLiked)\n  }\n\n  function handleDeleteClick(e) {\n    props.onCardDelete(props.card)\n    e.stopPropagation()\n  }\n\n  const dataUser = React.useContext(CurrentUserContext)\n  const isOwn = props.card.owner._id === dataUser._id;\n  const cardDeleteButtonClassName = (\n    `${isOwn ? 'card__delete' : 'card__delete_hidden'}`\n  );\n  const isLiked = props.card.likes.some(i => i._id === dataUser._id);\n  const cardLikeButtonClassName = `card__like ${isLiked ? 'card__like_active' : ''}`;\n\n  return (\n    <article className=\"card__item\">\n      <div className=\"card__block-img\" onClick={handleClick}>\n        <img className=\"card__img\" alt={props.card.name} src={props.card.link} />\n        <button onClick={handleDeleteClick} className={cardDeleteButtonClassName}></button>\n      </div>\n      <div className=\"card__signature-block\">\n        <h3 className=\"card__title\">{props.card.name}</h3>\n        <div className=\"card__block-like\">\n          <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName}></button>\n          <p className=\"card__counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n\n}\n\nexport default Card","import React from \"react\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\nimport Card from \"./Card\"\n\nexport default function Main(props) {\n  const dataUser = React.useContext(CurrentUserContext)\n  \n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${dataUser.avatar})` }}></div>\n        <div className=\"profile__profile-info\">\n          <div className=\"profile__name-block\">\n            <h1 className=\"profile__name\">{dataUser.name}</h1><button onClick={props.onEditProfile} aria-label=\"Редактировать\" type=\"button\"\n              className=\"profile__edit-button\"></button>\n          </div>\n          <p className=\"profile__description\">{dataUser.about}</p>\n        </div>\n\n        <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"card\">\n\n        {props.cards.map((card) => {\n          return <Card card={card} onCardDelete={props.onCardDelete} onCardLike={props.onCardLike} onCardClick={props.onCardClick} key={card._id} />\n        })}\n      </section>\n    </main>\n  )\n}","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__window\">\n        <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form onSubmit={props.onSubmit} name=\"popup_form\" action=\"#\" className={`popup__form popup__${props.name}`} noValidate>\n          {props.children}\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_img ${props.card ? 'popup_opened' : ''}`}>\n      <div className=\"popup__window-img\">\n        <img className=\"popup__img\" src={props.card ? props.card.link : \"\"} alt={props.card?.name} />\n        <button type=\"button\" className=\"popup__button-close popup__button-close_img\" onClick={props.onClose}></button>\n        <figcaption className=\"popup__figcaption\">{props.card?.name}</figcaption>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup","class Api {\n  constructor({ baseUrl, token }) {\n    this.baseUrl = baseUrl\n    this.token = token\n  }\n\n  _getResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cohort-28/cards`, {\n      headers: {\n        authorization: this.token,\n      }\n    })\n      .then(this._getResponse);\n  }\n\n  addCard({ name, link }) {\n    return fetch(`${this.baseUrl}/cohort-28/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      })\n    })\n      .then(this._getResponse);\n  }\n\n  deleteCard(idCard) {\n    return fetch(`${this.baseUrl}/cohort-28/cards/${idCard}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n    })\n      .then(this._getResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/cohort-28/users/me`, {\n      headers: {\n        authorization: this.token,\n      }\n    })\n      .then(this._getResponse);\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(`${this.baseUrl}/cohort-28/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n      .then(this._getResponse)\n  }\n\n  toogleLike(idCard, like) {\n    return fetch(`${this.baseUrl}/cohort-28/cards/likes/${idCard}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(this._getResponse)\n  }\n\n  setUserAvatar({ avatar }) {\n    return fetch(`${this.baseUrl}/cohort-28/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(this._getResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/',\n  token: 'ed090d15-3957-4628-b8b0-5938578032af'\n})\n\nexport default api","import PopupWithForm from \"./PopupWithForm\"\nimport React from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  const dataUser = React.useContext(CurrentUserContext)\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  React.useEffect(() => {\n    setName(dataUser.name);\n    setDescription(dataUser.about);\n  }, [dataUser]); \n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      onSubmit={handleSubmit}>\n      <fieldset className=\"popup__fieldset\">\n        <label htmlFor=\"\" className=\"popup__label\">\n          <input type=\"text\" value={name} onChange={handleChangeName} name=\"name\" id=\"name\" className=\"popup__input\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\"\n            required />\n          <span className=\"popup__form-error name-error\"></span>\n        </label>\n        <label htmlFor=\"\" className=\"popup__label\">\n          <input type=\"text\" value={description} onChange={handleChangeDescription} name=\"description\" id=\"description\" className=\"popup__input\" placeholder=\"О себе\"\n            minLength=\"2\" maxLength=\"200\" required />\n          <span className=\"popup__form-error description-error\"></span>\n        </label>\n        <input type=\"submit\" className=\"popup__save-button\" value=\"Сохранить\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}","import PopupWithForm from \"./PopupWithForm\"\nimport React from 'react';\n\nexport default function EditAvatarPopup(props) {\n  const src = React.useRef()\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    props.onUpdateAvatar({\n      avatar: src.current.value,\n    });\n    src.current.value = ''\n  } \n\n  return (\n    <PopupWithForm\n    onClose={props.onClose}\n    isOpen={props.isOpen}\n    name=\"avatar\"\n    title=\"Обновить аватар\"\n    onSubmit={handleSubmit}>\n    <fieldset className=\"popup__fieldset\">\n      <label htmlFor=\"\" className=\"popup__label\">\n        <input ref={src} type=\"url\" name=\"src\" id=\"urlavatar\" className=\"popup__input popup__input_card\"\n          placeholder=\"Ссылка на аватар\" required />\n        <span className=\"popup__form-error urlavatar-error\"></span>\n      </label>\n      <input type=\"submit\" className=\"popup__save-button\" value=\"Сохранить\" />\n    </fieldset>\n  </PopupWithForm>\n  )\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\"\n\nexport default function AddPlacePopup(props) {\n  const [title, setTitle] = React.useState('');\n  const [src, setSrc] = React.useState('');\n\n  function handleChangeTitle(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleChangeSrc(e) {\n    setSrc(e.target.value);\n  }\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateCards({\n      name: title,\n      link: src\n    });\n    setTitle('')\n    setSrc('')\n  }\n\n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"card\"\n      title=\"Новое место\"\n      onSubmit={handleSubmit}>\n      <fieldset className=\"popup__fieldset\">\n        <label htmlFor=\"\" className=\"popup__label\">\n          <input type=\"text\" value={title} onChange={handleChangeTitle} name=\"title\" id=\"title\" className=\"popup__input popup__input_card\" placeholder=\"Название\"\n            minLength=\"2\" maxLength=\"30\" required />\n          <span className=\"popup__form-error title-error\"></span>\n        </label>\n        <label htmlFor=\"\" className=\"popup__label\">\n          <input type=\"url\" value={src} onChange={handleChangeSrc} name=\"src\" id=\"src\" className=\"popup__input popup__input_card\"\n            placeholder=\"Ссылка на картинку\" required />\n          <span className=\"popup__form-error src-error\"></span>\n        </label>\n        <input id=\"submit\" type=\"submit\" className=\"popup__save-button\" value=\"Создать\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}","import React, { useState } from 'react';\nimport Footer from './Footer';\nimport Header from './Header';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [selectCard, setSelectCard] = useState(null)\n  const [currentUser, setCurrentUser] = useState({})\n  const [cards, setCards] = React.useState([])\n\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setSelectCard(false)\n    setSelectCard(null)\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const handleCardClick = (card) => {\n    setSelectCard(card)\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((result) => {\n        setCurrentUser(result)\n      })\n      .catch(err => console.log(`Ошибка загрузки данных: ${err}`))\n\n    api.getInitialCards()\n      .then(result => setCards(result))\n      .catch(err => console.log(`Ошибка загрузки данных: ${err}`))\n  }, [])\n\n  function handleCardLike(card, isLiked) {\n\n    api.toogleLike(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch(err => console.log(`Ошибка установки лайка: ${err}`));\n\n  }\n\n  function handleCardDelete(card) {\n\n    api.deleteCard(card._id)\n      .then((result) => {\n        setCards(cards.filter((c) => c._id !== card._id))\n      })\n      .catch(err => console.log(`Ошибка удаление карточки: ${err}`));\n  }\n\n  function updateDataUser(result) {\n    setCurrentUser(result)\n    closeAllPopups()\n  }\n\n  function handleUpdateUser(newDataUser) {\n    api.setUserInfo(newDataUser)\n      .then(result => {\n        updateDataUser(result)\n      })\n      .catch(err => console.log(`Ошибка загрузка данных пользоветял: ${err}`));\n  }\n\n  function handleUpdateAvatar(src) {\n    api.setUserAvatar(src)\n      .then(result => {\n        updateDataUser(result)\n      })\n      .catch(err => console.log(`Ошибка загрузка аватар: ${err}`));\n  }\n\n  function handleUpdateCards(card) {\n    api.addCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards])\n        closeAllPopups()\n      })\n      .catch(err => console.log(`Ошибка добавление карточки: ${err}`));\n\n  }\n\n  return (\n\n    <div className=\"root__page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete} />\n        <Footer />\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup onUpdateCards={handleUpdateCards} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <PopupWithForm\n          name=\"delete-card\"\n          title=\"Вы уверены?\">\n          <fieldset className=\"popup__fieldset\">\n            <input type=\"submit\" className=\"popup__save-button\" value=\"Да\" />\n          </fieldset>\n        </PopupWithForm>\n        <ImagePopup card={selectCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </div >\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}