{"version":3,"sources":["components/Footer.js","img/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Auth.js","components/Login.jsx","components/Register.jsx","components/ProtectedRoute.jsx","components/InfoToolTip.jsx","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","currentYear","Date","getFullYear","className","Header","props","currentUrl","location","useLocation","history","useHistory","signOut","localStorage","removeItem","push","isLoginIn","to","src","logo","alt","pathname","getItem","onClick","CurrentUserContext","React","createContext","Card","dataUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","name","link","e","onCardDelete","stopPropagation","type","onCardLike","length","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","cards","map","PopupWithForm","isOpen","onClose","imgStatus","title","onSubmit","action","children","value","buttonText","ImagePopup","api","baseUrl","token","this","res","ok","json","Promise","reject","status","fetch","credentials","headers","authorization","then","_getResponse","method","body","JSON","stringify","idCard","like","EditProfilePopup","useState","setName","description","setDescription","useEffect","preventDefault","onUpdateUser","htmlFor","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setTitle","setSrc","onUpdateCards","Auth","password","email","Accept","console","log","process","auth","Login","setEmail","setPassword","handleChange","setter","authorize","data","setItem","setLogin","catch","error","Register","isRegistration","ProtectedRoute","Component","component","loginIn","InfoToolTip","classStatus","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectCard","setSelectCard","currentUser","setCurrentUser","setCards","setLoginIn","isStatusRegister","setIsStatusRegister","isTitleModal","setIsTitleModal","isClassStatus","setIsClassStatus","closeAllPopups","handleSetLogin","handleCheckToken","useCallback","checkToken","err","updateDataUser","result","getUserInfo","getInitialCards","closeByEscape","key","document","addEventListener","removeEventListener","Provider","exact","path","toogleLike","newCard","state","c","deleteCard","filter","register","finally","newDataUser","setUserInfo","addCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5f209f6c.chunk.js","sourcesContent":["function Footer() {\n  const currentYear = new Date().getFullYear()\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© {currentYear} Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer","export default __webpack_public_path__ + \"static/media/logo.1f1e9591.svg\";","import logo from '../img/logo.svg';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\n\nfunction Header(props) {\n  const location = useLocation();\n  const history = useHistory()\n  \n  function signOut(){\n    localStorage.removeItem('token');\n    localStorage.removeItem('email');\n    history.push('/sign-in');\n    props.isLoginIn(false)\n  }\n\n\n\n  function navRight(currentUrl) {\n    if (currentUrl.pathname === \"/sign-in\") {\n      return <Link to=\"/sign-up\" className=\"header__sign\">Регистрация</Link>\n    }\n    if (currentUrl.pathname === \"/sign-up\") {\n      return <Link to=\"/sign-in\" className=\"header__sign\">Вход</Link>\n    }\n    if (currentUrl.pathname === \"/\") {\n      return (\n        <div>\n        <Link to=\"\" className=\"header__sign\">{localStorage.getItem('email')}</Link>\n        <Link to=\"/sign-up\" onClick={signOut} className=\"header__sign header__sign_exit\">Выйти</Link>\n        </div>\n      )\n    }\n  }\n\n  return (\n    <header className=\"header\">\n      <Link to=\"/\"><img src={logo} alt=\"Логотип сайта\" className=\"header__logo\" /></Link>\n      {navRight(location)}\n    </header>\n  )\n}\n\nexport default Header","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext()\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction Card(props) {\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card, isLiked)\n  }\n\n  function handleDeleteClick(e) {\n    props.onCardDelete(props.card)\n    e.stopPropagation()\n  }\n\n  const dataUser = React.useContext(CurrentUserContext)\n  const isOwn = props.card.owner === dataUser._id;\n  const cardDeleteButtonClassName = (\n    `${isOwn ? 'card__delete' : 'card__delete_hidden'}`\n  );\n  const isLiked = props.card.likes.some(i => i === dataUser._id);\n  const cardLikeButtonClassName = `card__like ${isLiked ? 'card__like_active' : ''}`;\n\n  return (\n    <article className=\"card__item\">\n      <div className=\"card__block-img\" onClick={handleClick}>\n        <img className=\"card__img\" alt={props.card.name} src={props.card.link} />\n        <button onClick={handleDeleteClick} className={cardDeleteButtonClassName}></button>\n      </div>\n      <div className=\"card__signature-block\">\n        <h3 className=\"card__title\">{props.card.name}</h3>\n        <div className=\"card__block-like\">\n          <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName}></button>\n          <p className=\"card__counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n\n}\n\nexport default Card","import React from \"react\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\nimport Card from \"./Card\"\n\nexport default function Main(props) {\n  const dataUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${dataUser.avatar})` }}></div>\n        <div className=\"profile__profile-info\">\n          <div className=\"profile__name-block\">\n            <h1 className=\"profile__name\">{dataUser.name}</h1><button onClick={props.onEditProfile} aria-label=\"Редактировать\" type=\"button\"\n              className=\"profile__edit-button\"></button>\n          </div>\n          <p className=\"profile__description\">{dataUser.about}</p>\n        </div>\n\n        <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"card\">\n\n        {props.cards.map((card) => {\n          return (\n            <Card\n              card={card}\n              onCardDelete={props.onCardDelete}\n              onCardLike={props.onCardLike}\n              onCardClick={props.onCardClick}\n              key={card._id} />\n          )\n        })}\n      </section>\n    </main>\n  )\n}","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__window\">\n        <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\n        {props.imgStatus && <h2>все ок</h2>}\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form onSubmit={props.onSubmit} name={`popup_form-${props.name}`} action=\"#\" className={`popup__form popup__${props.name}`} >\n          <fieldset className=\"popup__fieldset\">\n            {props.children}\n            <input type=\"submit\" className=\"popup__save-button\" value={props.buttonText} />\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_img ${props.card ? 'popup_opened' : ''}`}>\n      <div className=\"popup__window-img\">\n        <img className=\"popup__img\" src={props.card ? props.card.link : \"\"} alt={props.card?.name} />\n        <button type=\"button\" className=\"popup__button-close popup__button-close_img\" onClick={props.onClose}></button>\n        <figcaption className=\"popup__figcaption\">{props.card?.name}</figcaption>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup","class Api {\n  constructor({ baseUrl, token }) {\n    this.baseUrl = baseUrl\n    this.token = token\n  }\n\n  _getResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this.baseUrl}/cards`, {\n      credentials: 'include',\n      headers: {\n        authorization: token,\n      }\n    })\n      .then(this._getResponse);\n  }\n\n  addCard({ name, link }) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      })\n    })\n      .then(this._getResponse);\n  }\n\n  deleteCard(idCard) {\n    return fetch(`${this.baseUrl}/cards/${idCard}`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n    })\n      .then(this._getResponse);\n  }\n\n  getUserInfo(token) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      credentials: 'include',\n      headers: {\n        authorization: token,\n      }\n    })\n      .then(this._getResponse);\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n      .then(this._getResponse)\n  }\n\n  toogleLike(idCard, like) {\n    return fetch(`${this.baseUrl}/cards/likes/${idCard}`, {\n      method: like ? 'PUT' : 'DELETE',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(this._getResponse)\n  }\n\n  setUserAvatar({ avatar }) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        authorization: this.token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(this._getResponse)\n  }\n}\n\nconst token = localStorage.getItem('token');\n\nconst api = new Api({\n  baseUrl: process.env.NODE_ENV === \"production\"\n  ? \"http://84.201.143.83/api\"\n  : \"http://localhost:3000\",\n  token: token\n})\n\nexport default api","import PopupWithForm from \"./PopupWithForm\"\nimport React from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  const dataUser = React.useContext(CurrentUserContext)\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  React.useEffect(() => {\n    setName(dataUser.name);\n    setDescription(dataUser.about);\n  }, [dataUser, props.isOpen]); \n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      onSubmit={handleSubmit}\n      buttonText={'Сохранить'}>\n        <label htmlFor=\"\" className=\"popup__label\">\n          <input type=\"text\" value={name || ''} onChange={handleChangeName} name=\"name\" id=\"name\" className=\"popup__input\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\"\n            required />\n          <span className=\"popup__form-error name-error\"></span>\n        </label>\n        <label htmlFor=\"\" className=\"popup__label\">\n          <input type=\"text\" value={description || ''} onChange={handleChangeDescription} name=\"description\" id=\"description\" className=\"popup__input\" placeholder=\"О себе\"\n            minLength=\"2\" maxLength=\"200\" required />\n          <span className=\"popup__form-error description-error\"></span>\n        </label>\n    </PopupWithForm>\n  )\n}","import PopupWithForm from \"./PopupWithForm\"\nimport React from 'react';\n\nexport default function EditAvatarPopup(props) {\n  const src = React.useRef()\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: src.current.value,\n    });\n  }\n\n  React.useEffect(() => {\n    src.current.value = ''\n}, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      onSubmit={handleSubmit}\n      buttonText={\"Сохранить\"}>\n      <label htmlFor=\"\" className=\"popup__label\">\n        <input ref={src} type=\"url\" name=\"src\" id=\"urlavatar\" className=\"popup__input popup__input_card\"\n          placeholder=\"Ссылка на аватар\" required />\n        <span className=\"popup__form-error urlavatar-error\"></span>\n      </label>\n    </PopupWithForm>\n  )\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\"\n\nexport default function AddPlacePopup(props) {\n  const [title, setTitle] = React.useState('');\n  const [src, setSrc] = React.useState('');\n\n  function handleChangeTitle(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleChangeSrc(e) {\n    setSrc(e.target.value);\n  }\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateCards({\n      name: title,\n      link: src\n    });\n  }\n\n  React.useEffect(() => {\n    setTitle('')\n    setSrc('')\n   }, [props.isOpen])\n\n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      name=\"card\"\n      title=\"Новое место\"\n      onSubmit={handleSubmit}\n      buttonText={'Добавить'}>\n      <label htmlFor=\"\" className=\"popup__label\">\n        <input type=\"text\" value={title} onChange={handleChangeTitle} name=\"title\" id=\"title\" className=\"popup__input popup__input_card\" placeholder=\"Название\"\n          minLength=\"2\" maxLength=\"30\" required />\n        <span className=\"popup__form-error title-error\"></span>\n      </label>\n      <label htmlFor=\"\" className=\"popup__label\">\n        <input type=\"url\" value={src} onChange={handleChangeSrc} name=\"src\" id=\"src\" className=\"popup__input popup__input_card\"\n          placeholder=\"Ссылка на картинку\" required />\n        <span className=\"popup__form-error src-error\"></span>\n      </label>\n    </PopupWithForm>\n  )\n}","class Auth {\n  constructor({baseUrl}) {\n    this.baseUrl = baseUrl\n  }\n\n  _getResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n\n  register({password, email}) {\n    return fetch(`${this.baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ password, email })\n    })\n      .then(this._getResponse);\n  };\n\n  authorize(password, email) {\n    return fetch(`${this.baseUrl}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ password, email })\n    })\n      .then(this._getResponse)\n  };\n\n  checkToken(token) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `${token}`,\n      }\n    })\n      .then(this._getResponse)\n  }\n}\nconsole.log(process.env)\n const auth = new Auth({\n  baseUrl: process.env.NODE_ENV === \"production\"\n  ? \"http://84.201.143.83/api\"\n  : \"http://localhost:3000\",\n})\n\nexport default auth","import './Sign.css'\nimport { useState } from 'react';\nimport auth from '../utils/Auth';\nimport { useHistory } from 'react-router-dom'\n\nexport default function Login(props) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const history = useHistory()\n\n  function handleChange(e, setter) {\n    setter(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    auth.authorize(password, email)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('token', data.token);\n          setPassword('')\n          setEmail('')\n          props.setLogin()\n          history.push('/')\n        }\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  return (\n    <main className=\"main\">\n      <section className=\"sign\">\n        <h2 className=\"sign__title\">Вход</h2>\n        <form onSubmit={handleSubmit} className=\"sign__form\" action=\"\">\n          <input placeholder=\"Email\" value={email} onChange={(e) => handleChange(e, setEmail)} className=\"sign__form-input\" type=\"email\" />\n          <input placeholder=\"Пароль\" value={password} onChange={(e) => handleChange(e, setPassword)} className=\"sign__form-input\" type=\"password\" />\n          <button className=\"sign__button\">Войти</button>\n        </form>\n      </section>\n    </main>\n  )\n}","import './Sign.css'\nimport { Link } from 'react-router-dom'\nimport { useState } from 'react';\n\nexport default function Register(props) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n\n  function handleChange(e, setter) {\n    setter(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.isRegistration({\n      email: email,\n      password: password\n    })\n\n  }\n\n\n  return (\n    <main className=\"main\">\n      <section className=\"sign\">\n        <h2 className=\"sign__title\">Регистрация</h2>\n        <form onSubmit={handleSubmit} className=\"sign__form\">\n          <input placeholder=\"Email\" value={email} onChange={(e) => handleChange(e, setEmail)} className=\"sign__form-input\" type=\"email\" />\n          <input placeholder=\"Пароль\" value={password} onChange={(e) => handleChange(e, setPassword)} className=\"sign__form-input\" type=\"password\" />\n          <button className=\"sign__button\">Зарегистрироваться</button>\n        </form>\n        <Link to=\"/sign-in\" className=\"sign__signin\">Уже зарегестрировались? Войти</Link>\n      </section>\n    </main>\n  )\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loginIn ? <Component {...props} /> : <Redirect to=\"/sign-up\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute; ","import React from 'react';\n\nexport default function InfoToolTip(props) {\n\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__window\">\n        <button type=\"button\" className=\"popup__button-close\" onClick={props.onClose}></button>\n        <div className=\"popup__info-tool\">\n        <div className={`popup__info-tool_${props.classStatus}`}></div>\n        <h2 className=\"popup__title popup__title_infotool\">{props.title}</h2>\n        </div>\n      </div>\n    </div>\n  )\n}","import React, { useCallback, useState } from 'react';\nimport Footer from './Footer';\nimport Header from './Header';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport auth from '../utils/Auth';\nimport InfoToolTip from './InfoToolTip';\n\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [selectCard, setSelectCard] = useState(null)\n  const [currentUser, setCurrentUser] = useState({})\n  const [cards, setCards] = React.useState([])\n  const [loginIn, setLoginIn] = React.useState(false)\n  const [isStatusRegister, setIsStatusRegister] = useState(false)\n  const [isTitleModal, setIsTitleModal] = useState('')\n  const [isClassStatus, setIsClassStatus] = useState('')\n  const history = useHistory();\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setSelectCard(false)\n    setSelectCard(null)\n  }\n\n  const handleSetLogin = (status) => {\n    setLoginIn(status)\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const handleCardClick = (card) => {\n    setSelectCard(card)\n  }\n\n  const handleCheckToken = useCallback(() => {\n    if (localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n      auth.checkToken(token)\n        .then((res) => {\n          setLoginIn(true)\n          history.push('/')\n          localStorage.setItem('email', res.email)\n          \n        })\n        .catch(err => console.log(`Ошибка проверка токена: ${err}`))\n    }\n  }, [history])\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    api.getUserInfo(token)\n      .then((result) => {\n        setCurrentUser(result)\n      })\n      .catch(err => console.log(`Ошибка загрузки данных: ${err}`))\n\n    api.getInitialCards(token)\n      .then(result => setCards(result))\n      .catch(err => console.log(`Ошибка загрузки данных: ${err}`))\n\n    handleCheckToken()\n  }, [loginIn, handleCheckToken])\n\n  function handleCardLike(card, isLiked) {\n\n    api.toogleLike(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch(err => console.log(`Ошибка установки лайка: ${err}`));\n\n  }\n\n  function handleCardDelete(card) {\n\n    api.deleteCard(card._id)\n      .then((result) => {\n        setCards(cards.filter((c) => c._id !== card._id))\n      })\n      .catch(err => console.log(`Ошибка удаление карточки: ${err}`));\n  }\n\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape)\n    \n    return () => document.removeEventListener('keydown', closeByEscape)\n}, [])\n\n  function updateDataUser(result) {\n    setCurrentUser(result)\n    closeAllPopups()\n  }\n\n  function handleUpdateUser(newDataUser) {\n    api.setUserInfo(newDataUser)\n      .then(result => {\n        updateDataUser(result)\n      })\n      .catch(err => console.log(`Ошибка загрузка данных пользоветял: ${err}`));\n  }\n\n  function handleUpdateAvatar(src) {\n    api.setUserAvatar(src)\n      .then(result => {\n        updateDataUser(result)\n      })\n      .catch(err => console.log(`Ошибка загрузка аватар: ${err}`));\n  }\n\n  function handleUpdateCards(card) {\n    api.addCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards])\n        closeAllPopups()\n      })\n      .catch(err => console.log(`Ошибка добавление карточки: ${err}`));\n\n  }\n\n  function handleSubmitRegister(dataUser) {\n    auth.register(dataUser)\n      .then((res) => {\n        setIsTitleModal('Вы успешно зарегистрировались!')\n        setIsClassStatus('accept-status')\n      })\n      .catch((error) => {\n        setIsTitleModal(error)\n        setIsClassStatus('error-status')\n      })\n      .finally(() => {\n        setIsStatusRegister(true)\n      })\n  }\n\n\n  return (\n\n    <div className=\"root__page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header isLoginIn={handleSetLogin} />\n        <Switch>\n          <ProtectedRoute exact path=\"/\"\n            loginIn={loginIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete} />\n          <Route path=\"/sign-up\">\n            <Register\n              isRegistration={handleSubmitRegister}\n            />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login\n              setLogin={handleSetLogin}\n            />\n          </Route>\n        </Switch>\n        <Footer />\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup onUpdateCards={handleUpdateCards} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <InfoToolTip\n          name=\"infotool\"\n          onClose={() => { setIsStatusRegister(false) }}\n          isOpen={isStatusRegister}\n          title={isTitleModal}\n          classStatus={isClassStatus}\n\n        />\n        <PopupWithForm\n          name=\"delete-card\"\n          title=\"Вы уверены?\"\n          buttonText={'Да'}>\n        </PopupWithForm>\n        <ImagePopup card={selectCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </div >\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}